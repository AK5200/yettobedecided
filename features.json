[
  {
    "id": 1,
    "category": "setup",
    "description": "Create widget folder structure and database table",
    "steps": [
      "Step 1: Create folder app/embed",
      "Step 2: Create folder app/embed/changelog",
      "Step 3: Create folder app/embed/feedback",
      "Step 4: Create folder app/embed/widget",
      "Step 5: Create folder components/widgets",
      "Step 6: Create folder public/js",
      "Step 7: Create file supabase/migrations/004_widget_settings.sql with content:",
      "  CREATE TABLE IF NOT EXISTS widget_settings (",
      "    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),",
      "    org_id UUID REFERENCES organizations(id) ON DELETE CASCADE,",
      "    widget_type TEXT NOT NULL DEFAULT 'all-in-one',",
      "    position TEXT NOT NULL DEFAULT 'bottom-right',",
      "    accent_color TEXT NOT NULL DEFAULT '#000000',",
      "    button_text TEXT NOT NULL DEFAULT 'Feedback',",
      "    show_branding BOOLEAN NOT NULL DEFAULT true,",
      "    theme TEXT NOT NULL DEFAULT 'light',",
      "    created_at TIMESTAMPTZ DEFAULT NOW(),",
      "    updated_at TIMESTAMPTZ DEFAULT NOW(),",
      "    UNIQUE(org_id)",
      "  );",
      "Step 8: Log: User must run this SQL in Supabase SQL Editor",
      "Step 9: Run: git add -A && git commit -m 'feat: widget folder structure and migration'"
    ],
    "passes": true
  },
  {
    "id": 2,
    "category": "types",
    "description": "Add WidgetSettings type",
    "steps": [
      "Step 1: Open file lib/types/database.ts",
      "Step 2: Add new interface at the end:",
      "  export interface WidgetSettings {",
      "    id: string",
      "    org_id: string",
      "    widget_type: 'changelog' | 'feedback' | 'all-in-one'",
      "    position: 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right'",
      "    accent_color: string",
      "    button_text: string",
      "    show_branding: boolean",
      "    theme: 'light' | 'dark' | 'auto'",
      "    created_at: string",
      "    updated_at: string",
      "  }",
      "Step 3: Save the file",
      "Step 4: Run: npm run build",
      "Step 5: Run: git add -A && git commit -m 'feat: add WidgetSettings type'"
    ],
    "passes": true
  },
  {
    "id": 3,
    "category": "api",
    "description": "Create widget settings API",
    "steps": [
      "Step 1: Create folder app/api/widget-settings",
      "Step 2: Create file app/api/widget-settings/route.ts",
      "Step 3: Add imports: createClient from server, NextResponse",
      "Step 4: Export async function GET(request: Request)",
      "Step 5: Get org_id from searchParams",
      "Step 6: Query: await supabase.from('widget_settings').select('*').eq('org_id', org_id).single()",
      "Step 7: If no data, return default settings object",
      "Step 8: Return NextResponse.json({ settings: data })",
      "Step 9: Export async function POST(request: Request) for creating/updating",
      "Step 10: Parse body, upsert into widget_settings table",
      "Step 11: Return success response",
      "Step 12: Save the file",
      "Step 13: Run: npm run build",
      "Step 14: Run: git add -A && git commit -m 'feat: widget settings API'"
    ],
    "passes": true
  },
  {
    "id": 4,
    "category": "api",
    "description": "Create public widget API for embed",
    "steps": [
      "Step 1: Create folder app/api/widget",
      "Step 2: Create file app/api/widget/route.ts",
      "Step 3: Add imports",
      "Step 4: Export async function GET(request: Request)",
      "Step 5: Get org slug from searchParams",
      "Step 6: Get organization by slug",
      "Step 7: Get widget_settings for this org",
      "Step 8: Get public boards for this org",
      "Step 9: Get recent changelog entries (published only, limit 10)",
      "Step 10: Return all data with CORS headers:",
      "  { org, settings, boards, changelog }",
      "Step 11: Add OPTIONS handler for CORS",
      "Step 12: Save the file",
      "Step 13: Run: npm run build",
      "Step 14: Run: git add -A && git commit -m 'feat: public widget API'"
    ],
    "passes": true
  },
  {
    "id": 5,
    "category": "api",
    "description": "Create widget feedback submission API",
    "steps": [
      "Step 1: Create file app/api/widget/feedback/route.ts",
      "Step 2: Add imports",
      "Step 3: Export async function POST(request: Request)",
      "Step 4: Parse body: org_slug, board_id, title, content, author_email, author_name",
      "Step 5: Validate required fields",
      "Step 6: Insert into posts table with is_approved: false",
      "Step 7: Return success with CORS headers",
      "Step 8: Add OPTIONS handler",
      "Step 9: Save the file",
      "Step 10: Run: npm run build",
      "Step 11: Run: git add -A && git commit -m 'feat: widget feedback API'"
    ],
    "passes": true
  },
  {
    "id": 6,
    "category": "api",
    "description": "Create widget vote API",
    "steps": [
      "Step 1: Create file app/api/widget/vote/route.ts",
      "Step 2: Add imports",
      "Step 3: Export async function POST(request: Request)",
      "Step 4: Parse body: post_id, voter_email",
      "Step 5: Check if vote exists",
      "Step 6: If exists, delete vote and call decrement_vote_count RPC",
      "Step 7: If not exists, insert vote and call increment_vote_count RPC",
      "Step 8: Return { voted: boolean } with CORS headers",
      "Step 9: Add OPTIONS handler",
      "Step 10: Save the file",
      "Step 11: Run: npm run build",
      "Step 12: Run: git add -A && git commit -m 'feat: widget vote API'"
    ],
    "passes": true
  },
  {
    "id": 7,
    "category": "components",
    "description": "Create ChangelogPopup widget component",
    "steps": [
      "Step 1: Create file components/widgets/changelog-popup.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, useEffect, Dialog components, X icon from lucide",
      "Step 4: Create interface ChangelogPopupProps:",
      "  - entries: array of changelog entries",
      "  - isOpen: boolean",
      "  - onClose: () => void",
      "  - accentColor?: string",
      "  - showBranding?: boolean",
      "Step 5: Export function ChangelogPopup",
      "Step 6: Return Dialog component:",
      "  - DialogContent with max-w-lg",
      "  - DialogHeader with title 'What's New'",
      "  - Scrollable list of entries",
      "  - Each entry shows: category badge, date, title, content preview",
      "  - If showBranding: footer with 'Powered by FeedbackHub'",
      "Step 7: Save the file",
      "Step 8: Run: npm run build",
      "Step 9: Run: git add -A && git commit -m 'feat: ChangelogPopup component'"
    ],
    "passes": true
  },
  {
    "id": 8,
    "category": "components",
    "description": "Create ChangelogDropdown widget component",
    "steps": [
      "Step 1: Create file components/widgets/changelog-dropdown.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, Popover components from ui",
      "Step 4: Create interface ChangelogDropdownProps:",
      "  - entries: array",
      "  - trigger: ReactNode (the element that triggers dropdown)",
      "  - accentColor?: string",
      "  - showBranding?: boolean",
      "Step 5: Export function ChangelogDropdown",
      "Step 6: Return Popover:",
      "  - PopoverTrigger asChild wrapping {trigger}",
      "  - PopoverContent with w-80 max-h-96 overflow-y-auto",
      "  - Header 'Latest Updates'",
      "  - List of entries (compact view)",
      "  - Each: small date, title, category badge",
      "  - Branding footer if enabled",
      "Step 7: Save the file",
      "Step 8: Run: npm run build",
      "Step 9: Run: git add -A && git commit -m 'feat: ChangelogDropdown component'"
    ],
    "passes": true
  },
  {
    "id": 9,
    "category": "components",
    "description": "Create FeedbackWidget component",
    "steps": [
      "Step 1: Create file components/widgets/feedback-widget.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, Button, Input, Textarea, Select",
      "Step 4: Create interface FeedbackWidgetProps:",
      "  - boards: array of { id, name }",
      "  - orgSlug: string",
      "  - onSubmit?: () => void",
      "  - accentColor?: string",
      "  - showBranding?: boolean",
      "Step 5: Export function FeedbackWidget",
      "Step 6: Add states: selectedBoard, title, content, email, name, loading, success",
      "Step 7: Create handleSubmit:",
      "  - POST to /api/widget/feedback",
      "  - On success, show thank you message, clear form",
      "Step 8: Return form:",
      "  - Select for choosing board (if multiple)",
      "  - Input for email",
      "  - Input for name (optional)",
      "  - Input for title",
      "  - Textarea for content",
      "  - Submit button with accentColor background",
      "  - Success message when submitted",
      "  - Branding footer if enabled",
      "Step 9: Save the file",
      "Step 10: Run: npm run build",
      "Step 11: Run: git add -A && git commit -m 'feat: FeedbackWidget component'"
    ],
    "passes": true
  },
  {
    "id": 10,
    "category": "components",
    "description": "Create AllInOneWidget component with tabs",
    "steps": [
      "Step 1: Create file components/widgets/all-in-one-widget.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, Tabs components, FeedbackWidget, ChangelogPopup content",
      "Step 4: Create interface AllInOneWidgetProps:",
      "  - boards: array",
      "  - changelog: array",
      "  - orgSlug: string",
      "  - accentColor?: string",
      "  - showBranding?: boolean",
      "Step 5: Export function AllInOneWidget",
      "Step 6: Return container with:",
      "  - Header 'Have something to say?'",
      "  - Subtext 'Share feedback or check our latest updates'",
      "  - Tabs component:",
      "    - TabsList with TabsTrigger 'Feedback' and 'Changelog'",
      "    - TabsContent 'feedback': FeedbackWidget",
      "    - TabsContent 'changelog': scrollable list of entries",
      "  - Branding footer if enabled",
      "Step 7: Save the file",
      "Step 8: Run: npm run build",
      "Step 9: Run: git add -A && git commit -m 'feat: AllInOneWidget component'"
    ],
    "passes": true
  },
  {
    "id": 11,
    "category": "components",
    "description": "Create FloatingButton trigger component",
    "steps": [
      "Step 1: Create file components/widgets/floating-button.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, MessageSquare icon from lucide",
      "Step 4: Create interface FloatingButtonProps:",
      "  - position: 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right'",
      "  - text: string",
      "  - accentColor: string",
      "  - onClick: () => void",
      "Step 5: Export function FloatingButton",
      "Step 6: Create positionClasses object mapping position to Tailwind classes:",
      "  - 'bottom-right': 'bottom-4 right-4'",
      "  - 'bottom-left': 'bottom-4 left-4'",
      "  - 'top-right': 'top-4 right-4'",
      "  - 'top-left': 'top-4 left-4'",
      "Step 7: Return button with:",
      "  - className='fixed z-50' + positionClasses[position]",
      "  - style={{ backgroundColor: accentColor }}",
      "  - MessageSquare icon + text",
      "  - onClick handler",
      "  - Rounded pill shape, shadow",
      "Step 8: Save the file",
      "Step 9: Run: npm run build",
      "Step 10: Run: git add -A && git commit -m 'feat: FloatingButton component'"
    ],
    "passes": true
  },
  {
    "id": 12,
    "category": "components",
    "description": "Create WidgetContainer that combines everything",
    "steps": [
      "Step 1: Create file components/widgets/widget-container.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, useEffect, all widget components, Sheet or Dialog",
      "Step 4: Create interface WidgetContainerProps:",
      "  - orgSlug: string",
      "  - apiUrl?: string (defaults to current origin)",
      "Step 5: Export function WidgetContainer",
      "Step 6: Add states: isOpen, settings, boards, changelog, loading",
      "Step 7: useEffect to fetch from /api/widget?org={orgSlug}",
      "Step 8: Render based on settings.widget_type:",
      "  - If 'changelog': FloatingButton + ChangelogPopup",
      "  - If 'feedback': FloatingButton + Sheet with FeedbackWidget",
      "  - If 'all-in-one': FloatingButton + Sheet with AllInOneWidget",
      "Step 9: Use Sheet component for side panel (slides from right)",
      "Step 10: Apply settings: position, accentColor, buttonText, showBranding",
      "Step 11: Save the file",
      "Step 12: Run: npm run build",
      "Step 13: Run: git add -A && git commit -m 'feat: WidgetContainer component'"
    ],
    "passes": true
  },
  {
    "id": 13,
    "category": "embed",
    "description": "Create embed page for widget",
    "steps": [
      "Step 1: Create file app/embed/widget/page.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useSearchParams, Suspense, WidgetContainer",
      "Step 4: Create WidgetContent component:",
      "  - Get org from searchParams",
      "  - If no org, show error",
      "  - Return WidgetContainer with orgSlug={org}",
      "Step 5: Export default function wrapped in Suspense",
      "Step 6: Save the file",
      "Step 7: Run: npm run build",
      "Step 8: Run: git add -A && git commit -m 'feat: widget embed page'"
    ],
    "passes": true
  },
  {
    "id": 14,
    "category": "embed",
    "description": "Create standalone widget.js script",
    "steps": [
      "Step 1: Create file public/widget.js",
      "Step 2: Add IIFE (immediately invoked function):",
      "  (function() {",
      "    const script = document.currentScript;",
      "    const org = script.getAttribute('data-org');",
      "    if (!org) { console.error('FeedbackHub: data-org required'); return; }",
      "    const baseUrl = script.src.replace('/widget.js', '');",
      "    const iframe = document.createElement('iframe');",
      "    iframe.src = baseUrl + '/embed/widget?org=' + org;",
      "    iframe.style.cssText = 'position:fixed;bottom:0;right:0;width:100%;height:100%;border:none;z-index:9999;pointer-events:none;';",
      "    iframe.id = 'feedbackhub-widget';",
      "    document.body.appendChild(iframe);",
      "    window.FeedbackHub = {",
      "      open: function() { iframe.contentWindow.postMessage('open', '*'); },",
      "      close: function() { iframe.contentWindow.postMessage('close', '*'); }",
      "    };",
      "  })();",
      "Step 3: Save the file",
      "Step 4: Run: git add -A && git commit -m 'feat: standalone widget.js script'"
    ],
    "passes": true
  },
  {
    "id": 15,
    "category": "pages",
    "description": "Create widget settings page in dashboard",
    "steps": [
      "Step 1: Create folder app/(dashboard)/widgets",
      "Step 2: Create file app/(dashboard)/widgets/page.tsx",
      "Step 3: Add imports: createClient, Card components",
      "Step 4: Create async function WidgetsPage",
      "Step 5: Get supabase, user, membership, orgId",
      "Step 6: Get org details for slug",
      "Step 7: Get current widget_settings or defaults",
      "Step 8: Get boards for this org",
      "Step 9: Return JSX:",
      "  - h1 'Widgets'",
      "  - WidgetSettingsForm component (client component)",
      "  - Embed code section with copy buttons",
      "  - Preview section",
      "Step 10: Save the file",
      "Step 11: Run: npm run build",
      "Step 12: Run: git add -A && git commit -m 'feat: widgets settings page'"
    ],
    "passes": true
  },
  {
    "id": 16,
    "category": "components",
    "description": "Create WidgetSettingsForm component",
    "steps": [
      "Step 1: Create file components/dashboard/widget-settings-form.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, Button, Input, Select, Label, RadioGroup",
      "Step 4: Create interface with orgId, initialSettings",
      "Step 5: Export function WidgetSettingsForm",
      "Step 6: Add states for all settings fields",
      "Step 7: Create handleSave:",
      "  - POST to /api/widget-settings",
      "  - Show toast on success",
      "Step 8: Return form with:",
      "  - RadioGroup for widget_type: 'Changelog Only', 'Feedback Only', 'All-in-One'",
      "  - RadioGroup for position: 4 options with visual preview",
      "  - Input type='color' for accent_color",
      "  - Input for button_text",
      "  - Select for theme: light/dark/auto",
      "  - Checkbox for show_branding (note: disabled on free plan)",
      "  - Save button",
      "Step 9: Save the file",
      "Step 10: Run: npm run build",
      "Step 11: Run: git add -A && git commit -m 'feat: WidgetSettingsForm component'"
    ],
    "passes": true
  },
  {
    "id": 17,
    "category": "components",
    "description": "Create WidgetCodeGenerator component",
    "steps": [
      "Step 1: Create file components/dashboard/widget-code-generator.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, Button, Tabs",
      "Step 4: Create interface with orgSlug, baseUrl",
      "Step 5: Export function WidgetCodeGenerator",
      "Step 6: Generate code snippets:",
      "  - scriptCode: <script src='{baseUrl}/widget.js' data-org='{orgSlug}'></script>",
      "  - iframeCode: <iframe src='{baseUrl}/embed/widget?org={orgSlug}' ...></iframe>",
      "Step 7: Create copyToClipboard function",
      "Step 8: Return Tabs with:",
      "  - Tab 'Script Tag' with code and copy button",
      "  - Tab 'iFrame' with code and copy button",
      "  - Note about which method to use",
      "Step 9: Save the file",
      "Step 10: Run: npm run build",
      "Step 11: Run: git add -A && git commit -m 'feat: WidgetCodeGenerator component'"
    ],
    "passes": true
  },
  {
    "id": 18,
    "category": "navigation",
    "description": "Add Widgets to sidebar",
    "steps": [
      "Step 1: Open file components/dashboard/sidebar.tsx",
      "Step 2: Find the navigation array",
      "Step 3: Add item after Changelog: { name: 'Widgets', href: '/widgets' }",
      "Step 4: Save the file",
      "Step 5: Run: npm run build",
      "Step 6: Run: git add -A && git commit -m 'feat: add widgets to sidebar'"
    ],
    "passes": true
  },
  {
    "id": 19,
    "category": "kanban",
    "description": "Create Kanban board component",
    "steps": [
      "Step 1: Create file components/boards/kanban-board.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: useState, useMemo, Card, Badge",
      "Step 4: Create interface KanbanBoardProps:",
      "  - posts: Post[]",
      "  - onStatusChange: (postId: string, newStatus: string) => void",
      "Step 5: Export function KanbanBoard",
      "Step 6: Define columns: ['open', 'planned', 'in_progress', 'shipped', 'closed']",
      "Step 7: Create columnLabels object: { open: 'Open', planned: 'Planned', in_progress: 'In Progress', shipped: 'Shipped', closed: 'Closed' }",
      "Step 8: Use useMemo to group posts by status",
      "Step 9: Return grid with 5 columns:",
      "  - Each column has header with label and count",
      "  - Each column maps posts with that status",
      "  - Each post card shows: title, vote count, author",
      "  - Post card has dropdown to change status",
      "Step 10: Save the file",
      "Step 11: Run: npm run build",
      "Step 12: Run: git add -A && git commit -m 'feat: KanbanBoard component'"
    ],
    "passes": true
  },
  {
    "id": 20,
    "category": "kanban",
    "description": "Create Kanban column component",
    "steps": [
      "Step 1: Create file components/boards/kanban-column.tsx",
      "Step 2: Add 'use client'",
      "Step 3: Add imports: Card, Badge, DropdownMenu components",
      "Step 4: Create interface KanbanColumnProps:",
      "  - title: string",
      "  - status: string",
      "  - posts: Post[]",
      "  - onStatusChange: (postId: string, newStatus: string) => void",
      "  - accentColor?: string",
      "Step 5: Export function KanbanColumn",
      "Step 6: Return div with:",
      "  - Header: title + Badge with count",
      "  - className='bg-gray-50 rounded-lg p-3 min-h-[400px]'",
      "  - Scrollable area with posts",
      "  - Each post is a Card with:",
      "    - Title",
      "    - Vote count badge",
      "    - DropdownMenu to move to other status",
      "Step 7: Save the file",
      "Step 8: Run: npm run build",
      "Step 9: Run: git add -A && git commit -m 'feat: KanbanColumn component'"
    ],
    "passes": true
  },
  {
    "id": 21,
    "category": "pages",
    "description": "Add Kanban view to board detail page",
    "steps": [
      "Step 1: Open file app/(dashboard)/boards/[id]/page.tsx",
      "Step 2: Add import: import { KanbanBoard } from '@/components/boards/kanban-board'",
      "Step 3: Add import: import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'",
      "Step 4: Find where posts are displayed",
      "Step 5: Wrap the existing view in Tabs:",
      "  - TabsList with TabsTrigger 'List View' and 'Kanban View'",
      "  - TabsContent 'list': existing BoardPostsList for pending and approved",
      "  - TabsContent 'kanban': KanbanBoard with all posts",
      "Step 6: Create handleStatusChange function:",
      "  - Takes postId, newStatus",
      "  - PATCH to /api/posts/[postId] with { status: newStatus }",
      "  - Refresh page or revalidate",
      "Step 7: Pass handleStatusChange to KanbanBoard",
      "Step 8: Save the file",
      "Step 9: Run: npm run build",
      "Step 10: Run: git add -A && git commit -m 'feat: add kanban view to board detail'"
    ],
    "passes": true
  },
  {
    "id": 22,
    "category": "pages",
    "description": "Update public roadmap page with better kanban",
    "steps": [
      "Step 1: Open file app/[orgSlug]/roadmap/page.tsx",
      "Step 2: Review current implementation",
      "Step 3: Update to use cleaner kanban layout:",
      "  - 4 columns: Planned, In Progress, Next, Completed",
      "  - Better styling with cards",
      "  - Show vote count and comment count on each card",
      "  - Click card to open post detail",
      "Step 4: Add header with org name and description",
      "Step 5: Save the file",
      "Step 6: Run: npm run build",
      "Step 7: Run: git add -A && git commit -m 'feat: improve public roadmap kanban'"
    ],
    "passes": true
  },
  {
    "id": 23,
    "category": "fixes",
    "description": "Create auth error page",
    "steps": [
      "Step 1: Create folder app/auth",
      "Step 2: Create folder app/auth/auth-code-error",
      "Step 3: Create file app/auth/auth-code-error/page.tsx",
      "Step 4: Add imports: Link, Button",
      "Step 5: Export default function AuthErrorPage",
      "Step 6: Return centered layout:",
      "  - h1 'Link Expired'",
      "  - p 'The magic link has expired or is invalid.'",
      "  - Button linking to /login",
      "Step 7: Save the file",
      "Step 8: Run: npm run build",
      "Step 9: Run: git add -A && git commit -m 'feat: add auth error page'"
    ],
    "passes": true
  },
  {
    "id": 24,
    "category": "fixes",
    "description": "Update login page with password auth",
    "steps": [
      "Step 1: Open file app/(auth)/login/page.tsx",
      "Step 2: Update to include password field",
      "Step 3: Change handleLogin to use signInWithPassword:",
      "  await supabase.auth.signInWithPassword({ email, password })",
      "Step 4: On success, router.push('/dashboard')",
      "Step 5: On error, show error message",
      "Step 6: Update form JSX:",
      "  - Email input",
      "  - Password input",
      "  - Submit button",
      "  - Link to signup",
      "Step 7: Save the file",
      "Step 8: Run: npm run build",
      "Step 9: Run: git add -A && git commit -m 'feat: password login'"
    ],
    "passes": true
  },
  {
    "id": 25,
    "category": "fixes",
    "description": "Update signup page with password auth",
    "steps": [
      "Step 1: Open file app/(auth)/signup/page.tsx",
      "Step 2: Update to include password field",
      "Step 3: Change handleSignup to use signUp with password:",
      "  await supabase.auth.signUp({ email, password })",
      "Step 4: Show message to check email for confirmation",
      "Step 5: Update form JSX:",
      "  - Email input",
      "  - Password input (min 6 chars)",
      "  - Submit button",
      "  - Link to login",
      "Step 6: Save the file",
      "Step 7: Run: npm run build",
      "Step 8: Run: git add -A && git commit -m 'feat: password signup'"
    ],
    "passes": false
  },
  {
    "id": 26,
    "category": "fixes",
    "description": "Fix vote button stopPropagation",
    "steps": [
      "Step 1: Open file app/[orgSlug]/[boardSlug]/page.tsx",
      "Step 2: Find the vote button onClick handler",
      "Step 3: Update to add e.stopPropagation():",
      "  onClick={(e) => { e.stopPropagation(); handleVote(post.id); }}",
      "Step 4: Save the file",
      "Step 5: Run: npm run build",
      "Step 6: Run: git add -A && git commit -m 'fix: vote button stopPropagation'"
    ],
    "passes": false
  },
  {
    "id": 27,
    "category": "styling",
    "description": "Style widget components for embed",
    "steps": [
      "Step 1: Open file components/widgets/floating-button.tsx",
      "Step 2: Update styling:",
      "  - Add hover effect: hover:scale-105 transition-transform",
      "  - Add shadow-lg",
      "  - Ensure text is white on colored background",
      "Step 3: Open file components/widgets/all-in-one-widget.tsx",
      "Step 4: Update styling:",
      "  - Clean white background",
      "  - Proper padding and spacing",
      "  - Smooth tab transitions",
      "Step 5: Open file components/widgets/feedback-widget.tsx",
      "Step 6: Update styling:",
      "  - Form inputs with proper spacing",
      "  - Submit button uses accentColor",
      "  - Success state with checkmark icon",
      "Step 7: Save all files",
      "Step 8: Run: npm run build",
      "Step 9: Run: git add -A && git commit -m 'feat: style widget components'"
    ],
    "passes": false
  },
  {
    "id": 28,
    "category": "embed",
    "description": "Handle postMessage in widget container",
    "steps": [
      "Step 1: Open file components/widgets/widget-container.tsx",
      "Step 2: Add useEffect for message listener:",
      "  useEffect(() => {",
      "    const handleMessage = (e: MessageEvent) => {",
      "      if (e.data === 'open') setIsOpen(true);",
      "      if (e.data === 'close') setIsOpen(false);",
      "    };",
      "    window.addEventListener('message', handleMessage);",
      "    return () => window.removeEventListener('message', handleMessage);",
      "  }, []);",
      "Step 3: This allows parent page to control widget via postMessage",
      "Step 4: Save the file",
      "Step 5: Run: npm run build",
      "Step 6: Run: git add -A && git commit -m 'feat: widget postMessage support'"
    ],
    "passes": false
  },
  {
    "id": 29,
    "category": "preview",
    "description": "Add widget preview to settings page",
    "steps": [
      "Step 1: Open file app/(dashboard)/widgets/page.tsx",
      "Step 2: Add a preview section after the settings form:",
      "  - h2 'Preview'",
      "  - div with border containing iframe",
      "  - iframe src='/embed/widget?org={orgSlug}' with appropriate sizing",
      "Step 3: Add note: 'This is how your widget will appear on your website'",
      "Step 4: Save the file",
      "Step 5: Run: npm run build",
      "Step 6: Run: git add -A && git commit -m 'feat: widget preview in settings'"
    ],
    "passes": false
  },
  {
    "id": 30,
    "category": "test",
    "description": "Final build test",
    "steps": [
      "Step 1: Run: npm run build",
      "Step 2: Check for any TypeScript errors",
      "Step 3: Fix any errors found",
      "Step 4: Run: npm run build again",
      "Step 5: Verify build succeeds",
      "Step 6: Run: git add -A",
      "Step 7: Run: git commit -m 'feat: widgets and kanban complete'"
    ],
    "passes": false
  }
]
